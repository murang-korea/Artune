<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Artune - ì›¹íˆ° ëª©ë¡</title>
</head>
<body>
  <h1>ğŸ¨ Artune - ì›¹íˆ° ëª©ë¡</h1>
  <button onclick="location.href='login.html'">ë¡œê·¸ì¸</button>
  <button onclick="location.href='upload.html'">ì›¹íˆ° ì—…ë¡œë“œ</button>
  <div id="list"></div>

  <script>
  async function load(){
    const res = await fetch('/api/posts');
    const data = await res.json();
    if(data.ok){
      const list = document.getElementById('list');
      list.innerHTML = data.posts.map(p=>`
        <div>
          <h3>${p.title}</h3>
          <p>${p.description || ''}</p>
          <p>by ${p.author}</p>
          <button onclick="view(${p.id})">ë³´ê¸°</button>
          <hr>
        </div>
      `).join('');
    }
  }
  function view(id){ location.href = 'view.html?id='+id; }
  load();
  </script>
</body>
</html>
