<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Artune - 웹툰 업로드</title>
</head>
<body>
  <h2>웹툰 업로드</h2>
  <input id="title" placeholder="제목"><br>
  <textarea id="description" placeholder="설명"></textarea><br>
  <input id="images" type="file" multiple><br>
  <button onclick="uploadPost()">업로드</button>

  <script>
  async function uploadPost() {
    const title = document.getElementById('title').value.trim();
    const description = document.getElementById('description').value.trim();
    const files = document.getElementById('images').files;
    if(!title || files.length===0) return alert('제목과 이미지를 입력하세요.');

    const form = new FormData();
    form.append('title', title);
    form.append('description', description);
    for(const f of files) form.append('images', f);

    const res = await fetch('/api/upload', { method:'POST', body: form });
    const data = await res.json();
    if(data.ok){
      alert('업로드 성공!');
      location.href = 'index.html';
    }else alert(data.error);
  }
  </script>
</body>
</html>
